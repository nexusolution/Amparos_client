<div class="document-upload-container">
  <!-- Drop Zone -->
  <div
    class="drop-zone"
    [class.dragging]="isDragging"
    [class.has-files]="selectedFiles.length > 0"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
  >
    <input
      type="file"
      #fileInput
      class="file-input"
      [accept]="acceptedTypes.join(',')"
      [multiple]="multiple"
      (change)="onFileSelect($event)"
    />

    <div class="drop-zone-content" *ngIf="selectedFiles.length === 0">
      <svg class="upload-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="17 8 12 3 7 8"></polyline>
        <line x1="12" y1="3" x2="12" y2="15"></line>
      </svg>
      <p class="upload-title">Arrastre archivos aquí o haga clic para seleccionar</p>
      <p class="upload-subtitle">
        Tipos permitidos: {{ acceptedTypes.join(', ') }}<br>
        Tamaño máximo: {{ formatFileSize(maxSize) }}
      </p>
      <button
        type="button"
        class="btn-modern btn-primary-modern btn-sm"
        (click)="fileInput.click()"
      >
        <svg class="btn-icon-modern" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        Seleccionar Archivos
      </button>
    </div>

    <!-- Selected Files Preview -->
    <div class="files-preview" *ngIf="selectedFiles.length > 0">
      <div class="files-header">
        <h4 class="files-title">Archivos Seleccionados ({{ selectedFiles.length }})</h4>
        <button
          type="button"
          class="btn-modern btn-secondary-modern btn-sm"
          (click)="fileInput.click()"
        >
          <svg class="btn-icon-modern" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Agregar Más
        </button>
      </div>

      <div class="files-list">
        <div class="file-item" *ngFor="let file of selectedFiles; let i = index">
          <div class="file-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
              <polyline points="14 2 14 8 20 8"></polyline>
            </svg>
          </div>
          <div class="file-info">
            <p class="file-name">{{ file.name }}</p>
            <p class="file-size">{{ formatFileSize(file.size) }}</p>
          </div>
          <button
            type="button"
            class="btn-remove"
            (click)="removeFile(i)"
            title="Eliminar archivo"
          >
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="18" y1="6" x2="6" y2="18"></line>
              <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
